<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CRUD with Firebase</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="container">
    <h2>CRUD with Firebase</h2>
    <hr />
    <br />
    <div class="form">
      RollNo: <input type="text" name="RollNo" id="roll" /> <br /><br />
      Name:&nbsp; <input type="text" name="name" id="name" /> <br /><br />
      Gender: <input type="text" name="gender" id="gender" /> <br /><br />
      Address: <input type="text" name="Address" id="address" /> <br /><br />
    </div>

    <div class="buttons">
      <button id="insert">Insert</button>
      <button id="read">Read</button>
      <button id="update">Update</button>
      <button id="delete">Delete</button>
    </div>
  </div>

  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-app.js";
    import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-database.js";

    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyC0i59DC02EOl972GDt-xhtAypbPnFX0XY",
      authDomain: "jsi03-59bf0.firebaseapp.com",
      databaseURL: "https://jsi03-59bf0-default-rtdb.firebaseio.com",
      projectId: "jsi03-59bf0",
      storageBucket: "jsi03-59bf0.appspot.com",
      messagingSenderId: "641607578160",
      appId: "1:641607578160:web:ff69a6fbf2157cbc0173f5",
      measurementId: "G-6TNZ1JB05C"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

    const dbRef = ref(getDatabase(app));
    //const userId = "One";
    get(ref(database, `users/1`)).then((snapshot) => {
      if (snapshot.exists()) {
        console.log(snapshot.val());
      } else {
        console.log("No data available");
      }
    }).catch((error) => {
      console.error(error);
    });


    function writeUserData(userID, name, age) {
      set(ref(database, `users/${userID}`), {
        name: name,
        age: age
      })
    }
    writeUserData("1", "Linh", 17)
  </script>
  <!-- <script type="module" src="./app.js"></script> -->
</body>

</html>